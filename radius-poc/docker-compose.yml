services:
  freeradius:
    image: freeradius/freeradius-server:latest
    container_name: radius-poc
    network_mode: host              # bind directly to host ports — avoids snap Docker UDP proxy issues
    volumes:
      # Override only the two files we care about
      - ./freeradius-config/clients.conf:/etc/freeradius/clients.conf:ro
      - ./freeradius-config/users:/etc/freeradius/mods-config/files/authorize:ro
    command: freeradius -X          # debug/verbose mode — shows every packet
    restart: unless-stopped
